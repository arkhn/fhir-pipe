{
  "id": "Patient_resourceId",
  "label": "pat_label",
  "primaryKeyOwner": null,
  "primaryKeyTable": "patients",
  "primaryKeyColumn": "subject_id",
  "definitionId": "Patient",
  "updatedAt": "2020-03-02T18:14:40.533Z",
  "createdAt": "2020-03-02T18:14:40.533Z",
  "source": {
    "id": "mimicSourceId",
    "name": "mimic",
    "version": null,
    "hasOwner": false,
    "updatedAt": "2020-03-02T18:14:40.455Z",
    "createdAt": "2020-03-02T18:14:40.455Z"
  },
  "filters": [],
  "attributes": [
    {
      "id": "ck7as98st00149kf8si10tkl2",
      "path": "gender",
      "mergingScript": "select_first_not_empty",
      "comments": null,
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "inputs": [
        {
          "id": "ck7as98tk00209kf8ylrstyne",
          "script": null,
          "conceptMapId": "id_cm_gender",
          "staticValue": null,
          "updatedAt": "2020-03-02T18:28:44.437Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": {
            "id": "ck7as98t800179kf8ep7nv7h2",
            "owner": null,
            "table": "patients",
            "column": "gender",
            "updatedAt": "2020-03-02T18:14:40.533Z",
            "createdAt": "2020-03-02T18:14:40.533Z",
            "joins": []
          }
        },
        {
          "id": "ck7as98tk00209kf8ylrstyne",
          "script": null,
          "conceptMapId": null,
          "staticValue": "unknown",
          "updatedAt": "2020-03-02T18:28:44.437Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": null
        }
      ]
    },
    {
      "id": "ck7as98tv00219kf8pp82u16h",
      "path": "birthDate",
      "mergingScript": null,
      "comments": null,
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "inputs": [
        {
          "id": "ck7as98uf00299kf8pm45wzf3",
          "script": "clean_date",
          "conceptMapId": null,
          "staticValue": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": {
            "id": "ck7as98u100249kf8ryk1f10i",
            "owner": null,
            "table": "patients",
            "column": "dob",
            "updatedAt": "2020-03-02T18:14:40.533Z",
            "createdAt": "2020-03-02T18:14:40.533Z",
            "joins": []
          }
        }
      ]
    },
    {
      "id": "ck7as98ur00349kf8d93cjgv9",
      "path": "maritalStatus.coding[0].code",
      "mergingScript": null,
      "comments": null,
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "inputs": [
        {
          "id": "ck7as98wb00549kf8erdzjxsy",
          "script": "map_marital_status",
          "conceptMapId": null,
          "staticValue": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": {
            "id": "ck7as98v100399kf8tapi04jz",
            "owner": null,
            "table": "admissions",
            "column": "marital_status",
            "updatedAt": "2020-03-02T18:14:40.533Z",
            "createdAt": "2020-03-02T18:14:40.533Z",
            "joins": [
              {
                "id": "ck7as98vd00439kf8jkblmzj1",
                "updatedAt": "2020-03-02T18:14:40.533Z",
                "createdAt": "2020-03-02T18:14:40.533Z",
                "tables": [
                  {
                    "id": "ck7as98vq00489kf8pwupi9p2",
                    "owner": null,
                    "table": "patients",
                    "column": "subject_id",
                    "updatedAt": "2020-03-02T18:14:40.533Z",
                    "createdAt": "2020-03-02T18:14:40.533Z"
                  },
                  {
                    "id": "ck7as98vz00519kf8x029ohlh",
                    "owner": null,
                    "table": "admissions",
                    "column": "subject_id",
                    "updatedAt": "2020-03-02T18:14:40.533Z",
                    "createdAt": "2020-03-02T18:14:40.533Z"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    {
      "id": "ck7as98wq00589kf84km755gk",
      "path": "identifier[0].value",
      "mergingScript": null,
      "comments": null,
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "inputs": [
        {
          "id": "ck7as98xs00719kf8hol5t26w",
          "script": null,
          "conceptMapId": "id_cm_identifier",
          "staticValue": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": {
            "id": "ck7as98x500639kf8apyoqya5",
            "owner": null,
            "table": "patients",
            "column": "row_id",
            "updatedAt": "2020-03-02T18:14:40.533Z",
            "createdAt": "2020-03-02T18:14:40.533Z",
            "joins": []
          }
        }
      ]
    },
    {
      "id": "ck7as98y600749kf8huleha3m",
      "path": "deceasedBoolean",
      "mergingScript": null,
      "comments": null,
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "inputs": [
        {
          "id": "ck7as98z600829kf8h6h85wbv",
          "script": "binary_to_bool_1",
          "conceptMapId": null,
          "staticValue": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": {
            "id": "ck7as98ye00779kf80afowdov",
            "owner": null,
            "table": "patients",
            "column": "expire_flag",
            "updatedAt": "2020-03-02T18:14:40.533Z",
            "createdAt": "2020-03-02T18:14:40.533Z",
            "joins": []
          }
        }
      ]
    },
    {
      "id": "ck7as990700879kf8xz58ccfe",
      "path": "deceasedDateTime",
      "mergingScript": null,
      "comments": null,
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "inputs": [
        {
          "id": "ck7as993d00949kf82rm7cr99",
          "script": "clean_date",
          "conceptMapId": null,
          "staticValue": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": {
            "id": "ck7as992i00919kf8pkxzhk0w",
            "owner": null,
            "table": "patients",
            "column": "dod",
            "updatedAt": "2020-03-02T18:14:40.533Z",
            "createdAt": "2020-03-02T18:14:40.533Z",
            "joins": []
          }
        }
      ]
    },
    {
      "id": "ck7as993w00969kf84kh017ke",
      "path": "generalPractitioner[0].type",
      "mergingScript": null,
      "comments": null,
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "inputs": [
        {
          "id": "ck7as994n00989kf80jkgkkbc",
          "script": null,
          "conceptMapId": null,
          "staticValue": "/Practitioner/",
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "sqlValue": null
        }
      ]
    }
  ],
  "definition": {
    "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
    "derivation": "specialization",
    "description": "Demographics and other administrative information about an individual or animal receiving care or other health-related services.",
    "id": "Patient",
    "kind": "resource",
    "name": "Patient",
    "publisher": "Health Level Seven International (Patient Administration)",
    "type": "Patient",
    "url": "http://hl7.org/fhir/StructureDefinition/Patient",
    "min": 0,
    "max": "*",
    "constraint": [
      {
        "expression": "contained.contained.empty()",
        "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
        "key": "dom-2",
        "severity": "error",
        "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "xpath": "not(parent::f:contained and f:contained)"
      },
      {
        "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
        "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
        "key": "dom-3",
        "severity": "error",
        "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
      },
      {
        "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
        "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
        "key": "dom-4",
        "severity": "error",
        "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
      },
      {
        "expression": "contained.meta.security.empty()",
        "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
        "key": "dom-5",
        "severity": "error",
        "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "xpath": "not(exists(f:contained/*/f:meta/f:security))"
      },
      {
        "expression": "text.`div`.exists()",
        "extension": [
          {
            "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
            "valueBoolean": true
          },
          {
            "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
            "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
          }
        ],
        "human": "A resource should have narrative for robust management",
        "key": "dom-6",
        "severity": "warning",
        "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "xpath": "exists(f:text/h:div)"
      }
    ]
  }
}