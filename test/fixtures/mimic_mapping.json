{
  "source": {
    "name": "mimic",
    "hasOwner": false
  },
  "template": {
    "name": "mimic"
  },
  "resources": [
    {
      "id": "DiagnosticReport_resourceId",
      "label": "",
      "primaryKeyOwner": null,
      "primaryKeyTable": "diagnoses_icd",
      "primaryKeyColumn": "row_id",
      "definitionId": "DiagnosticReport",
      "updatedAt": "2020-03-02T18:14:40.515Z",
      "createdAt": "2020-03-02T18:14:40.515Z",
      "source": {
        "id": "mimicSourceId",
        "name": "mimic",
        "version": null,
        "hasOwner": false,
        "updatedAt": "2020-03-02T18:14:40.455Z",
        "createdAt": "2020-03-02T18:14:40.455Z"
      },
      "filters": [],
      "attributes": [
        {
          "id": "ck7as98rb00049kf8f30fvaoz",
          "path": "identifier[0].value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.515Z",
          "createdAt": "2020-03-02T18:14:40.515Z",
          "inputs": [
            {
              "id": "ck7as98st00139kf8y93gzinz",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.515Z",
              "createdAt": "2020-03-02T18:14:40.515Z",
              "sqlValue": {
                "id": "ck7as98rn00089kf8b9occw3t",
                "owner": null,
                "table": "diagnoses_icd",
                "column": "row_id",
                "updatedAt": "2020-03-02T18:14:40.515Z",
                "createdAt": "2020-03-02T18:14:40.515Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98u300259kf8a1rkoca5",
          "path": "subject.identifier.value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.515Z",
          "createdAt": "2020-03-02T18:14:40.515Z",
          "inputs": [
            {
              "id": "ck7as98ut00359kf81ti08f3w",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.515Z",
              "createdAt": "2020-03-02T18:14:40.515Z",
              "sqlValue": {
                "id": "ck7as98ug00309kf8dz1obdy2",
                "owner": null,
                "table": "diagnoses_icd",
                "column": "subject_id",
                "updatedAt": "2020-03-02T18:14:40.515Z",
                "createdAt": "2020-03-02T18:14:40.515Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98v300409kf80l73x8tn",
          "path": "status",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.515Z",
          "createdAt": "2020-03-02T18:14:40.515Z",
          "inputs": [
            {
              "id": "ck7as98vl00459kf8kqe4dthy",
              "script": null,
              "conceptMapId": null,
              "staticValue": "final",
              "updatedAt": "2020-03-02T18:14:40.515Z",
              "createdAt": "2020-03-02T18:14:40.515Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as98vv00499kf8ppddwwnn",
          "path": "subject.identifier.type.coding[0].code",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.515Z",
          "createdAt": "2020-03-02T18:14:40.515Z",
          "inputs": [
            {
              "id": "ck7as98wb00559kf82dgt5tgt",
              "script": null,
              "conceptMapId": null,
              "staticValue": "/Patient/",
              "updatedAt": "2020-03-02T18:14:40.515Z",
              "createdAt": "2020-03-02T18:14:40.515Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as98wv00619kf80ckchm6u",
          "path": "code.coding[0].code",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.515Z",
          "createdAt": "2020-03-02T18:14:40.515Z",
          "inputs": [
            {
              "id": "ck7as98y900769kf8ufl4xlu3",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.515Z",
              "createdAt": "2020-03-02T18:14:40.515Z",
              "sqlValue": {
                "id": "ck7as98xm00689kf8viidik1f",
                "owner": null,
                "table": "diagnoses_icd",
                "column": "icd9_code",
                "updatedAt": "2020-03-02T18:14:40.515Z",
                "createdAt": "2020-03-02T18:14:40.515Z",
                "joins": []
              }
            }
          ]
        }
      ],
      "definition": {
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "derivation": "specialization",
        "description": "The findings and interpretation of diagnostic  tests performed on patients, groups of patients, devices, and locations, and/or specimens derived from these. The report includes clinical context such as requesting and provider information, and some mix of atomic results, images, textual and coded interpretations, and formatted representation of diagnostic reports.",
        "id": "DiagnosticReport",
        "kind": "resource",
        "name": "DiagnosticReport",
        "publisher": "Health Level Seven International (Orders and Observations)",
        "type": "DiagnosticReport",
        "url": "http://hl7.org/fhir/StructureDefinition/DiagnosticReport",
        "min": 0,
        "max": "*",
        "constraint": [
          {
            "expression": "contained.contained.empty()",
            "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
            "key": "dom-2",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(parent::f:contained and f:contained)"
          },
          {
            "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
            "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
            "key": "dom-3",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
          },
          {
            "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
            "key": "dom-4",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
          },
          {
            "expression": "contained.meta.security.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
            "key": "dom-5",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:security))"
          },
          {
            "expression": "text.`div`.exists()",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
                "valueBoolean": true
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
                "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
              }
            ],
            "human": "A resource should have narrative for robust management",
            "key": "dom-6",
            "severity": "warning",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "exists(f:text/h:div)"
          }
        ]
      }
    },
    {
      "id": "Practitioner_resourceId",
      "label": "",
      "primaryKeyOwner": null,
      "primaryKeyTable": "caregivers",
      "primaryKeyColumn": "row_id",
      "definitionId": "Practitioner",
      "updatedAt": "2020-03-02T18:14:40.514Z",
      "createdAt": "2020-03-02T18:14:40.514Z",
      "source": {
        "id": "mimicSourceId",
        "name": "mimic",
        "version": null,
        "hasOwner": false,
        "updatedAt": "2020-03-02T18:14:40.455Z",
        "createdAt": "2020-03-02T18:14:40.455Z"
      },
      "filters": [],
      "attributes": [
        {
          "id": "ck7as98re00059kf8np3tss88",
          "path": "identifier[0].value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.514Z",
          "createdAt": "2020-03-02T18:14:40.514Z",
          "inputs": [
            {
              "id": "ck7as98st00159kf8c4ybt3nx",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.514Z",
              "createdAt": "2020-03-02T18:14:40.514Z",
              "sqlValue": {
                "id": "ck7as98rt00109kf8mzf2hncp",
                "owner": null,
                "table": "caregivers",
                "column": "cgid",
                "updatedAt": "2020-03-02T18:14:40.514Z",
                "createdAt": "2020-03-02T18:14:40.514Z",
                "joins": []
              }
            }
          ]
        }
      ],
      "definition": {
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "derivation": "specialization",
        "description": "A person who is directly or indirectly involved in the provisioning of healthcare.",
        "id": "Practitioner",
        "kind": "resource",
        "name": "Practitioner",
        "publisher": "Health Level Seven International (Patient Administration)",
        "type": "Practitioner",
        "url": "http://hl7.org/fhir/StructureDefinition/Practitioner",
        "min": 0,
        "max": "*",
        "constraint": [
          {
            "expression": "contained.contained.empty()",
            "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
            "key": "dom-2",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(parent::f:contained and f:contained)"
          },
          {
            "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
            "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
            "key": "dom-3",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
          },
          {
            "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
            "key": "dom-4",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
          },
          {
            "expression": "contained.meta.security.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
            "key": "dom-5",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:security))"
          },
          {
            "expression": "text.`div`.exists()",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
                "valueBoolean": true
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
                "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
              }
            ],
            "human": "A resource should have narrative for robust management",
            "key": "dom-6",
            "severity": "warning",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "exists(f:text/h:div)"
          }
        ]
      }
    },
    {
      "id": "EpisodeOfCare_resourceId",
      "label": "icu stay",
      "primaryKeyOwner": null,
      "primaryKeyTable": "icustays",
      "primaryKeyColumn": "row_id",
      "definitionId": "EpisodeOfCare",
      "updatedAt": "2020-03-02T18:14:40.526Z",
      "createdAt": "2020-03-02T18:14:40.526Z",
      "source": {
        "id": "mimicSourceId",
        "name": "mimic",
        "version": null,
        "hasOwner": false,
        "updatedAt": "2020-03-02T18:14:40.455Z",
        "createdAt": "2020-03-02T18:14:40.455Z"
      },
      "filters": [],
      "attributes": [
        {
          "id": "ck7as98rv00129kf8y33kwz63",
          "path": "patient.identifier.type.text",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.526Z",
          "createdAt": "2020-03-02T18:14:40.526Z",
          "inputs": [
            {
              "id": "ck7as98su00169kf80pxkzfi6",
              "script": null,
              "conceptMapId": null,
              "staticValue": "/Patient/",
              "updatedAt": "2020-03-02T18:14:40.526Z",
              "createdAt": "2020-03-02T18:14:40.526Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as98ti00189kf83rq0682l",
          "path": "identifier[1].value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.526Z",
          "createdAt": "2020-03-02T18:14:40.526Z",
          "inputs": [
            {
              "id": "ck7as98u900279kf89mrdd7z8",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.526Z",
              "createdAt": "2020-03-02T18:14:40.526Z",
              "sqlValue": {
                "id": "ck7as98tv00229kf8rjlukwgl",
                "owner": null,
                "table": "icustays",
                "column": "icustay_id",
                "updatedAt": "2020-03-02T18:14:40.526Z",
                "createdAt": "2020-03-02T18:14:40.526Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98uk00319kf83uy16rnl",
          "path": "identifier[0].value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.526Z",
          "createdAt": "2020-03-02T18:14:40.526Z",
          "inputs": [
            {
              "id": "ck7as98v900429kf8atg3slmz",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.526Z",
              "createdAt": "2020-03-02T18:14:40.526Z",
              "sqlValue": {
                "id": "ck7as98uw00369kf8m3tkv2u7",
                "owner": null,
                "table": "icustays",
                "column": "row_id",
                "updatedAt": "2020-03-02T18:14:40.526Z",
                "createdAt": "2020-03-02T18:14:40.526Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98vq00479kf8wtwb6q40",
          "path": "status",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.526Z",
          "createdAt": "2020-03-02T18:14:40.526Z",
          "inputs": [
            {
              "id": "ck7as98w300529kf8cg2o5m8o",
              "script": null,
              "conceptMapId": null,
              "staticValue": "finished",
              "updatedAt": "2020-03-02T18:14:40.526Z",
              "createdAt": "2020-03-02T18:14:40.526Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as98wg00579kf8lh7mz2ge",
          "path": "period.start",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.526Z",
          "createdAt": "2020-03-02T18:14:40.526Z",
          "inputs": [
            {
              "id": "ck7as98x500649kf8emrb88jv",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.526Z",
              "createdAt": "2020-03-02T18:14:40.526Z",
              "sqlValue": {
                "id": "ck7as98wt00599kf8c2nwn2ls",
                "owner": null,
                "table": "icustays",
                "column": "intime",
                "updatedAt": "2020-03-02T18:14:40.526Z",
                "createdAt": "2020-03-02T18:14:40.526Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98xg00679kf81py2rjt6",
          "path": "period.end",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.526Z",
          "createdAt": "2020-03-02T18:14:40.526Z",
          "inputs": [
            {
              "id": "ck7as98yk00799kf8t60s7ob4",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.526Z",
              "createdAt": "2020-03-02T18:14:40.526Z",
              "sqlValue": {
                "id": "ck7as98xw00729kf8ebphq5qx",
                "owner": null,
                "table": "icustays",
                "column": "outtime",
                "updatedAt": "2020-03-02T18:14:40.526Z",
                "createdAt": "2020-03-02T18:14:40.526Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98zm00859kf8hxilasp4",
          "path": "patient.identifier.value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.526Z",
          "createdAt": "2020-03-02T18:14:40.526Z",
          "inputs": [
            {
              "id": "ck7as992s00929kf8z5mvzsqh",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.526Z",
              "createdAt": "2020-03-02T18:14:40.526Z",
              "sqlValue": {
                "id": "ck7as991w00889kf8cpofog74",
                "owner": null,
                "table": "icustays",
                "column": "subject_id",
                "updatedAt": "2020-03-02T18:14:40.526Z",
                "createdAt": "2020-03-02T18:14:40.526Z",
                "joins": []
              }
            }
          ]
        }
      ],
      "definition": {
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "derivation": "specialization",
        "description": "An association between a patient and an organization / healthcare provider(s) during which time encounters may occur. The managing organization assumes a level of responsibility for the patient during this time.",
        "id": "EpisodeOfCare",
        "kind": "resource",
        "name": "EpisodeOfCare",
        "publisher": "Health Level Seven International (Patient Administration)",
        "type": "EpisodeOfCare",
        "url": "http://hl7.org/fhir/StructureDefinition/EpisodeOfCare",
        "min": 0,
        "max": "*",
        "constraint": [
          {
            "expression": "contained.contained.empty()",
            "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
            "key": "dom-2",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(parent::f:contained and f:contained)"
          },
          {
            "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
            "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
            "key": "dom-3",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
          },
          {
            "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
            "key": "dom-4",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
          },
          {
            "expression": "contained.meta.security.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
            "key": "dom-5",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:security))"
          },
          {
            "expression": "text.`div`.exists()",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
                "valueBoolean": true
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
                "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
              }
            ],
            "human": "A resource should have narrative for robust management",
            "key": "dom-6",
            "severity": "warning",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "exists(f:text/h:div)"
          }
        ]
      }
    },
    {
      "id": "Patient_resourceId",
      "label": "pat_label",
      "primaryKeyOwner": null,
      "primaryKeyTable": "patients",
      "primaryKeyColumn": "subject_id",
      "definitionId": "Patient",
      "updatedAt": "2020-03-02T18:14:40.533Z",
      "createdAt": "2020-03-02T18:14:40.533Z",
      "source": {
        "id": "mimicSourceId",
        "name": "mimic",
        "version": null,
        "hasOwner": false,
        "updatedAt": "2020-03-02T18:14:40.455Z",
        "createdAt": "2020-03-02T18:14:40.455Z"
      },
      "filters": [],
      "attributes": [
        {
          "id": "ck7as98st00149kf8si10tkl2",
          "path": "gender",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "inputs": [
            {
              "id": "ck7as98tk00209kf8ylrstyne",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:28:44.437Z",
              "createdAt": "2020-03-02T18:14:40.533Z",
              "sqlValue": {
                "id": "ck7as98t800179kf8ep7nv7h2",
                "owner": null,
                "table": "patients",
                "column": "gender",
                "updatedAt": "2020-03-02T18:14:40.533Z",
                "createdAt": "2020-03-02T18:14:40.533Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98tv00219kf8pp82u16h",
          "path": "birthDate",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "inputs": [
            {
              "id": "ck7as98uf00299kf8pm45wzf3",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.533Z",
              "createdAt": "2020-03-02T18:14:40.533Z",
              "sqlValue": {
                "id": "ck7as98u100249kf8ryk1f10i",
                "owner": null,
                "table": "patients",
                "column": "dob",
                "updatedAt": "2020-03-02T18:14:40.533Z",
                "createdAt": "2020-03-02T18:14:40.533Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98ur00349kf8d93cjgv9",
          "path": "maritalStatus.coding[0].code",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "inputs": [
            {
              "id": "ck7as98wb00549kf8erdzjxsy",
              "script": "map_marital_status",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.533Z",
              "createdAt": "2020-03-02T18:14:40.533Z",
              "sqlValue": {
                "id": "ck7as98v100399kf8tapi04jz",
                "owner": null,
                "table": "admissions",
                "column": "marital_status",
                "updatedAt": "2020-03-02T18:14:40.533Z",
                "createdAt": "2020-03-02T18:14:40.533Z",
                "joins": [
                  {
                    "id": "ck7as98vd00439kf8jkblmzj1",
                    "updatedAt": "2020-03-02T18:14:40.533Z",
                    "createdAt": "2020-03-02T18:14:40.533Z",
                    "tables": [
                      {
                        "id": "ck7as98vq00489kf8pwupi9p2",
                        "owner": null,
                        "table": "patients",
                        "column": "subject_id",
                        "updatedAt": "2020-03-02T18:14:40.533Z",
                        "createdAt": "2020-03-02T18:14:40.533Z"
                      },
                      {
                        "id": "ck7as98vz00519kf8x029ohlh",
                        "owner": null,
                        "table": "admissions",
                        "column": "subject_id",
                        "updatedAt": "2020-03-02T18:14:40.533Z",
                        "createdAt": "2020-03-02T18:14:40.533Z"
                      }
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "id": "ck7as98wq00589kf84km755gk",
          "path": "identifier[0].value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "inputs": [
            {
              "id": "ck7as98xs00719kf8hol5t26w",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.533Z",
              "createdAt": "2020-03-02T18:14:40.533Z",
              "sqlValue": {
                "id": "ck7as98x500639kf8apyoqya5",
                "owner": null,
                "table": "patients",
                "column": "row_id",
                "updatedAt": "2020-03-02T18:14:40.533Z",
                "createdAt": "2020-03-02T18:14:40.533Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98y600749kf8huleha3m",
          "path": "deceasedBoolean",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "inputs": [
            {
              "id": "ck7as98z600829kf8h6h85wbv",
              "script": "binary_to_bool_1",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.533Z",
              "createdAt": "2020-03-02T18:14:40.533Z",
              "sqlValue": {
                "id": "ck7as98ye00779kf80afowdov",
                "owner": null,
                "table": "patients",
                "column": "expire_flag",
                "updatedAt": "2020-03-02T18:14:40.533Z",
                "createdAt": "2020-03-02T18:14:40.533Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as990700879kf8xz58ccfe",
          "path": "deceasedDateTime",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "inputs": [
            {
              "id": "ck7as993d00949kf82rm7cr99",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.533Z",
              "createdAt": "2020-03-02T18:14:40.533Z",
              "sqlValue": {
                "id": "ck7as992i00919kf8pkxzhk0w",
                "owner": null,
                "table": "patients",
                "column": "dod",
                "updatedAt": "2020-03-02T18:14:40.533Z",
                "createdAt": "2020-03-02T18:14:40.533Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as993w00969kf84kh017ke",
          "path": "generalPractitioner[0].type",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.533Z",
          "createdAt": "2020-03-02T18:14:40.533Z",
          "inputs": [
            {
              "id": "ck7as994n00989kf80jkgkkbc",
              "script": null,
              "conceptMapId": null,
              "staticValue": "/Practitioner/",
              "updatedAt": "2020-03-02T18:14:40.533Z",
              "createdAt": "2020-03-02T18:14:40.533Z",
              "sqlValue": null
            }
          ]
        }
      ],
      "definition": {
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "derivation": "specialization",
        "description": "Demographics and other administrative information about an individual or animal receiving care or other health-related services.",
        "id": "Patient",
        "kind": "resource",
        "name": "Patient",
        "publisher": "Health Level Seven International (Patient Administration)",
        "type": "Patient",
        "url": "http://hl7.org/fhir/StructureDefinition/Patient",
        "min": 0,
        "max": "*",
        "constraint": [
          {
            "expression": "contained.contained.empty()",
            "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
            "key": "dom-2",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(parent::f:contained and f:contained)"
          },
          {
            "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
            "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
            "key": "dom-3",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
          },
          {
            "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
            "key": "dom-4",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
          },
          {
            "expression": "contained.meta.security.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
            "key": "dom-5",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:security))"
          },
          {
            "expression": "text.`div`.exists()",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
                "valueBoolean": true
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
                "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
              }
            ],
            "human": "A resource should have narrative for robust management",
            "key": "dom-6",
            "severity": "warning",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "exists(f:text/h:div)"
          }
        ]
      }
    },
    {
      "id": "MedicationRequest_resourceId",
      "label": "",
      "primaryKeyOwner": null,
      "primaryKeyTable": "prescriptions",
      "primaryKeyColumn": "row_id",
      "definitionId": "MedicationRequest",
      "updatedAt": "2020-03-02T18:14:40.622Z",
      "createdAt": "2020-03-02T18:14:40.622Z",
      "source": {
        "id": "mimicSourceId",
        "name": "mimic",
        "version": null,
        "hasOwner": false,
        "updatedAt": "2020-03-02T18:14:40.455Z",
        "createdAt": "2020-03-02T18:14:40.455Z"
      },
      "filters": [],
      "attributes": [
        {
          "id": "ck7as98uf00289kf86om57tlv",
          "path": "identifier[0].value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.622Z",
          "createdAt": "2020-03-02T18:14:40.622Z",
          "inputs": [
            {
              "id": "ck7as98v100389kf8fzyb7jrk",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.622Z",
              "createdAt": "2020-03-02T18:14:40.622Z",
              "sqlValue": {
                "id": "ck7as98ur00339kf8uve03v0n",
                "owner": null,
                "table": "prescriptions",
                "column": "row_id",
                "updatedAt": "2020-03-02T18:14:40.622Z",
                "createdAt": "2020-03-02T18:14:40.622Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98vg00449kf8wz5gp4pq",
          "path": "subject.identifier.value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.622Z",
          "createdAt": "2020-03-02T18:14:40.622Z",
          "inputs": [
            {
              "id": "ck7as98wv00609kf83ynxatxj",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.622Z",
              "createdAt": "2020-03-02T18:14:40.622Z",
              "sqlValue": {
                "id": "ck7as98w300539kf8cv9myp7e",
                "owner": null,
                "table": "prescriptions",
                "column": "subject_id",
                "updatedAt": "2020-03-02T18:14:40.622Z",
                "createdAt": "2020-03-02T18:14:40.622Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98x500659kf8u0p29fxz",
          "path": "medicationCodeableConcept.coding[0].display",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.622Z",
          "createdAt": "2020-03-02T18:14:40.622Z",
          "inputs": [
            {
              "id": "ck7as98y500739kf8mje0651z",
              "script": "strip",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.622Z",
              "createdAt": "2020-03-02T18:14:40.622Z",
              "sqlValue": {
                "id": "ck7as98xo00709kf8u9nif68j",
                "owner": null,
                "table": "prescriptions",
                "column": "drug",
                "updatedAt": "2020-03-02T18:14:40.622Z",
                "createdAt": "2020-03-02T18:14:40.622Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98yh00789kf8k2gkvi52",
          "path": "status",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.622Z",
          "createdAt": "2020-03-02T18:14:40.622Z",
          "inputs": [
            {
              "id": "ck7as98zg00849kf8dnuq4iyp",
              "script": null,
              "conceptMapId": null,
              "staticValue": "unknown",
              "updatedAt": "2020-03-02T18:14:40.622Z",
              "createdAt": "2020-03-02T18:14:40.622Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as991w00899kf8eqwvwp7h",
          "path": "intent",
          "mergingScript": null,
          "comments": "Arbitrary choice for this input which is required",
          "updatedAt": "2020-03-02T18:14:40.622Z",
          "createdAt": "2020-03-02T18:14:40.622Z",
          "inputs": [
            {
              "id": "ck7as992800909kf86644eehq",
              "script": null,
              "conceptMapId": null,
              "staticValue": "order",
              "updatedAt": "2020-03-02T18:14:40.622Z",
              "createdAt": "2020-03-02T18:14:40.622Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as992w00939kf8ngrrms7j",
          "path": "subject.type",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.622Z",
          "createdAt": "2020-03-02T18:14:40.622Z",
          "inputs": [
            {
              "id": "ck7as993e00959kf815p7olsl",
              "script": null,
              "conceptMapId": null,
              "staticValue": "/Patient/",
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as994900979kf8dbufdslj",
          "path": "medicationCodeableConcept.coding[0].code",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as995901009kf8sr0k5zac",
              "script": "strip",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as994p00999kf8cnw65d2s",
                "owner": null,
                "table": "prescriptions",
                "column": "ndc",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as995m01019kf8rpv12uwh",
          "path": "medicationCodeableConcept.coding[0].system",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as996301029kf8dk92jj4z",
              "script": null,
              "conceptMapId": null,
              "staticValue": "http://hl7.org/fhir/sid/ndc",
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as996901039kf8xbhb9eu0",
          "path": "medicationCodeableConcept.text",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as996r01059kf8kp4rm53o",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as996k01049kf8tx0b4ov0",
                "owner": null,
                "table": "prescriptions",
                "column": "drug",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as997201069kf8ht71rjcu",
          "path": "dosageInstruction[0].route.coding[0].code",
          "mergingScript": null,
          "comments": "Needs a concept map to translate to snomed standard http://hl7.org/fhir/ValueSet/route-codes",
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as997h01089kf81sj2bdev",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as997b01079kf8cjrv9duf",
                "owner": null,
                "table": "prescriptions",
                "column": "route",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as997n01099kf802f8zcnh",
          "path": "dispenseRequest.validityPeriod.start",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as997z01119kf86oigzums",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as997u01109kf8vqtuqf6q",
                "owner": null,
                "table": "prescriptions",
                "column": "startdate",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as998301129kf8wbo4kz2k",
          "path": "dispenseRequest.validityPeriod.end",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as998k01149kf8tod2gisl",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as998e01139kf8u9hb2njq",
                "owner": null,
                "table": "prescriptions",
                "column": "enddate",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as998v01159kf8yonojdqv",
          "path": "dispenseRequest.quantity.value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as999901179kf88nknhi4k",
              "script": "clean_quantity",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as999001169kf81orh1bmb",
                "owner": null,
                "table": "prescriptions",
                "column": "dose_val_rx",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as999e01189kf8sfw5414j",
          "path": "dispenseRequest.quantity.unit",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as999t01209kf84oda2oa3",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as999i01199kf8t226iso8",
                "owner": null,
                "table": "prescriptions",
                "column": "dose_unit_rx",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as99a501219kf86sf1ix6u",
          "path": "dispenseRequest.quantity.code",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as99an01239kf8891lllsh",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": {
                "id": "ck7as99ae01229kf8zx6g3mf3",
                "owner": null,
                "table": "prescriptions",
                "column": "dose_unit_rx",
                "updatedAt": "2020-03-02T18:14:40.623Z",
                "createdAt": "2020-03-02T18:14:40.623Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as99at01249kf8kjmzvpin",
          "path": "dispenseRequest.quantity.system",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.623Z",
          "createdAt": "2020-03-02T18:14:40.623Z",
          "inputs": [
            {
              "id": "ck7as99ay01259kf8xpks6kcs",
              "script": null,
              "conceptMapId": null,
              "staticValue": "https://unitsofmeasure.org/",
              "updatedAt": "2020-03-02T18:14:40.623Z",
              "createdAt": "2020-03-02T18:14:40.623Z",
              "sqlValue": null
            }
          ]
        }
      ],
      "definition": {
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "derivation": "specialization",
        "description": "An order or request for both supply of the medication and the instructions for administration of the medication to a patient. The resource is called \"MedicationRequest\" rather than \"MedicationPrescription\" or \"MedicationOrder\" to generalize the use across inpatient and outpatient settings, including care plans, etc., and to harmonize with workflow patterns.",
        "id": "MedicationRequest",
        "kind": "resource",
        "name": "MedicationRequest",
        "publisher": "Health Level Seven International (Pharmacy)",
        "type": "MedicationRequest",
        "url": "http://hl7.org/fhir/StructureDefinition/MedicationRequest",
        "min": 0,
        "max": "*",
        "constraint": [
          {
            "expression": "contained.contained.empty()",
            "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
            "key": "dom-2",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(parent::f:contained and f:contained)"
          },
          {
            "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
            "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
            "key": "dom-3",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
          },
          {
            "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
            "key": "dom-4",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
          },
          {
            "expression": "contained.meta.security.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
            "key": "dom-5",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:security))"
          },
          {
            "expression": "text.`div`.exists()",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
                "valueBoolean": true
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
                "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
              }
            ],
            "human": "A resource should have narrative for robust management",
            "key": "dom-6",
            "severity": "warning",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "exists(f:text/h:div)"
          }
        ]
      }
    },
    {
      "id": "EpisodeOfCare_resourceId2",
      "label": "admissions",
      "primaryKeyOwner": null,
      "primaryKeyTable": "admissions",
      "primaryKeyColumn": "row_id",
      "definitionId": "EpisodeOfCare",
      "updatedAt": "2020-03-03T09:37:06.939Z",
      "createdAt": "2020-03-02T18:14:40.517Z",
      "source": {
        "id": "mimicSourceId",
        "name": "mimic",
        "version": null,
        "hasOwner": false,
        "updatedAt": "2020-03-02T18:14:40.455Z",
        "createdAt": "2020-03-02T18:14:40.455Z"
      },
      "filters": [
        {
          "id": "ck7bp7i9v0001t2f8h6047rs0",
          "relation": ">=",
          "value": "'2150-08-29 18:20:00'",
          "sqlColumn": {
            "id": "ck7bp7i9o0000t2f89pnwnwj5",
            "owner": null,
            "table": "admissions",
            "column": "admittime",
            "updatedAt": "2020-03-03T09:37:06.871Z",
            "createdAt": "2020-03-03T09:37:06.871Z"
          }
        }
      ],
      "attributes": [
        {
          "id": "ck7as98re00069kf8wd2hdnql",
          "path": "identifier[0].value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.517Z",
          "createdAt": "2020-03-02T18:14:40.517Z",
          "inputs": [
            {
              "id": "ck7as98tj00199kf8glh9cop9",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.517Z",
              "createdAt": "2020-03-02T18:14:40.517Z",
              "sqlValue": {
                "id": "ck7as98rq00099kf8m1yxvk1a",
                "owner": null,
                "table": "admissions",
                "column": "row_id",
                "updatedAt": "2020-03-02T18:14:40.517Z",
                "createdAt": "2020-03-02T18:14:40.517Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98u900269kf8r9p5ou58",
          "path": "patient.identifier.value",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.517Z",
          "createdAt": "2020-03-02T18:14:40.517Z",
          "inputs": [
            {
              "id": "ck7as98uw00379kf8rnoutw0g",
              "script": null,
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.517Z",
              "createdAt": "2020-03-02T18:14:40.517Z",
              "sqlValue": {
                "id": "ck7as98ul00329kf8mwoyi29d",
                "owner": null,
                "table": "admissions",
                "column": "subject_id",
                "updatedAt": "2020-03-02T18:14:40.517Z",
                "createdAt": "2020-03-02T18:14:40.517Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98v900419kf8s5kkinjc",
          "path": "period.start",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.517Z",
          "createdAt": "2020-03-02T18:14:40.517Z",
          "inputs": [
            {
              "id": "ck7as98vz00509kf8rjl7prxs",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.517Z",
              "createdAt": "2020-03-02T18:14:40.517Z",
              "sqlValue": {
                "id": "ck7as98vl00469kf8voi6vug1",
                "owner": null,
                "table": "admissions",
                "column": "admittime",
                "updatedAt": "2020-03-02T18:14:40.517Z",
                "createdAt": "2020-03-02T18:14:40.517Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98wd00569kf8pyf0gc3a",
          "path": "period.end",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.517Z",
          "createdAt": "2020-03-02T18:14:40.517Z",
          "inputs": [
            {
              "id": "ck7as98x800669kf84huxz9oz",
              "script": "clean_date",
              "conceptMapId": null,
              "staticValue": null,
              "updatedAt": "2020-03-02T18:14:40.517Z",
              "createdAt": "2020-03-02T18:14:40.517Z",
              "sqlValue": {
                "id": "ck7as98wy00629kf8hsfxxrj4",
                "owner": null,
                "table": "admissions",
                "column": "dischtime",
                "updatedAt": "2020-03-02T18:14:40.517Z",
                "createdAt": "2020-03-02T18:14:40.517Z",
                "joins": []
              }
            }
          ]
        },
        {
          "id": "ck7as98xm00699kf89q0jm8ni",
          "path": "status",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.517Z",
          "createdAt": "2020-03-02T18:14:40.517Z",
          "inputs": [
            {
              "id": "ck7as98y600759kf8dh48bzun",
              "script": null,
              "conceptMapId": null,
              "staticValue": "finished",
              "updatedAt": "2020-03-02T18:14:40.517Z",
              "createdAt": "2020-03-02T18:14:40.517Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as98yl00809kf8drx4besr",
          "path": "patient.identifier.type.text",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.517Z",
          "createdAt": "2020-03-02T18:14:40.517Z",
          "inputs": [
            {
              "id": "ck7as98z100819kf8m2saahny",
              "script": null,
              "conceptMapId": null,
              "staticValue": "/Patient/",
              "updatedAt": "2020-03-02T18:14:40.517Z",
              "createdAt": "2020-03-02T18:14:40.517Z",
              "sqlValue": null
            }
          ]
        },
        {
          "id": "ck7as98z800839kf8kcbkx14d",
          "path": "patient.type",
          "mergingScript": null,
          "comments": null,
          "updatedAt": "2020-03-02T18:14:40.517Z",
          "createdAt": "2020-03-02T18:14:40.517Z",
          "inputs": [
            {
              "id": "ck7as98zo00869kf8kx8u6qco",
              "script": null,
              "conceptMapId": null,
              "staticValue": "/Patient/",
              "updatedAt": "2020-03-02T18:14:40.517Z",
              "createdAt": "2020-03-02T18:14:40.517Z",
              "sqlValue": null
            }
          ]
        }
      ],
      "definition": {
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "derivation": "specialization",
        "description": "An association between a patient and an organization / healthcare provider(s) during which time encounters may occur. The managing organization assumes a level of responsibility for the patient during this time.",
        "id": "EpisodeOfCare",
        "kind": "resource",
        "name": "EpisodeOfCare",
        "publisher": "Health Level Seven International (Patient Administration)",
        "type": "EpisodeOfCare",
        "url": "http://hl7.org/fhir/StructureDefinition/EpisodeOfCare",
        "min": 0,
        "max": "*",
        "constraint": [
          {
            "expression": "contained.contained.empty()",
            "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
            "key": "dom-2",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(parent::f:contained and f:contained)"
          },
          {
            "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
            "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
            "key": "dom-3",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
          },
          {
            "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
            "key": "dom-4",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
          },
          {
            "expression": "contained.meta.security.empty()",
            "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
            "key": "dom-5",
            "severity": "error",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "not(exists(f:contained/*/f:meta/f:security))"
          },
          {
            "expression": "text.`div`.exists()",
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
                "valueBoolean": true
              },
              {
                "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
                "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
              }
            ],
            "human": "A resource should have narrative for robust management",
            "key": "dom-6",
            "severity": "warning",
            "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
            "xpath": "exists(f:text/h:div)"
          }
        ]
      }
    }
  ],
  "version": 5
}